services:
  - type: web
    name: list-manager-server
    env: node
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      # 重要：配置 MongoDB 以解决数据持久化问题（推荐）
      # 1. 注册 MongoDB Atlas 免费账户：https://www.mongodb.com/cloud/atlas/register
      # 2. 创建集群并获取连接字符串
      # 3. 在 Render 控制台的环境变量中添加 MONGODB_URI
      # 或者在下面取消注释并填入你的 MongoDB 连接字符串：
      # - key: MONGODB_URI
      #   value: mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority
      # 可选：自定义数据库名称（默认为 list_manager）
      # - key: DB_NAME
      #   value: list_manager
      # 备选方案：如果 Render 支持持久化磁盘，可以使用文件系统存储
      # - key: DATA_DIR
      #   value: /opt/render/project/src/data

